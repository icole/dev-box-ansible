---
- name: Install railwaycat tap
  homebrew_tap:
    name: "{{item}}"
    state: present
  with_items:
    - railwaycat/emacsmacport

- name: Install Emacs
  homebrew:
    name: emacs-mac
    state: latest
    update_homebrew: yes
    upgrade_all: yes

- name: Copy emacs.d
  git:
    repo=ssh://git@github.com/icole/emacs.git
    dest=~/.emacs.d

- name: Cask install dependencies
  shell: cask install
  args:
    chdir: ~/.emacs.d